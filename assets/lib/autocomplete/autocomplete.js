//NINO//CUstom Autocomplete in Jquery with overide Materialize Design//06/22/17//[MAIN INPUT][URL USED FOR AJAX][SELECTED ID WILL SAVE IN THIS INPUT]//080417 changes here to have generic autocomplete so that it will automatically apply to all UIsfunction autocomplete(input,url,storeHere,imageStoreHere,parameter1){    imageStoreHere = null;    parameter1 = null;    //console.log($("input[data-autocomplete]").attr('data-autocomplete'));    if($("input[data-autocomplete='"+input+"']").attr('data-autocomplete') != undefined){      if($("input[data-autocomplete='"+input+"']").attr('data-autocomplete') != undefined){        input = $("input[data-autocomplete='"+input+"']");        url = $(input).attr('data-autocomplete');        storeHere = $(input).attr('data-storehere');        //console.log(url);      }      $(input).autocomplete({          source: function (request, response) {               $.ajax({                   url: url,                   data: { 'name': request.term },                   dataType: "json",                   success: function(data){                    //alert (JSON.stringify (jsonDataReceivedFromServer));                    //console.log (jsonDataReceivedFromServer);                    if(data.length > 5){                        response ($.map(data.slice(0,5), function (item)                        {                            return {id: item.key, value: item.label, imageUrl: item.imageUrl, param1: item.param1};                        }));                      }                      else{                        response ($.map(data, function (item)                        {                            return {id: item.key, value: item.label, imageUrl: item.imageUrl, param1: item.param1};                        }));                      }                   },                   error: function () {                       response([]);                   }               });           },          select: function(event, ui) {            var id = ui.item.id;            $(storeHere).val(id);            $(input).attr('value',id);            //for the image            if(imageStoreHere != null && $(imageStoreHere) != undefined){                var image = ui.item.imageUrl;                console.log('Image selected is ' + image + ' and selected Id is ' + id);                $(imageStoreHere).attr("src",image);            }            else{              console.log('selected Id is ' + id);            }            //this will use if ever there is another data tobe pass aside from the ID            //Rare Case            if(parameter1 != null){                var param1 = ui.item.param1;                console.log(param1);                $(parameter1).val(param1);            }          },          minLength: 0,          minChars: 0,          min: 10,          //autoFill: true,          //mustMatch: true,          //matchContains: false,      }).on('focus', function(event) {          var self = this;          $(self).autocomplete( "search", "");          //console.log('');      });    }    else if($("input[data-autocomplete='"+input+"']").attr('data-autocomplete') != undefined){      console.log(input + ' existed');    }    else{      console.log(input + ' autocomplete not found');    }    }function displayInForm(obj, form){  if (form == null) {    $.each(obj, function(key, value) {        if(key == "ProductPicture" || key == "ProfilePicture"){}        else{          $('input[name='+key.toLowerCase()+']').val(value);          $('select[name='+key.toLowerCase()+']').val(value);          $('ul[for='+key.toLowerCase()+']').attr('data-val',value);          $('span[name='+key.toLowerCase()+']').text(value);          $('span[id='+key.toLowerCase()+']').text(value);          $('textarea[id='+key.toLowerCase()+']').val(value);                    //for the ul list          $('ul[for='+key.toLowerCase()+'] li').each(function(){            var li = $(this);            if(li.attr('data-val') == value){              li.attr('data-selected',true);            }            else{              li.attr('data-selected',false);            }          });        }    });    $(form + ' .mdl-textfield').each(function(){        $(this).addClass('is-dirty');      });  }  else {    $.each(obj, function(key, value) {        if(key == "ProductPicture" || key == "ProfilePicture"){}else{          $(form + ' input[name='+key.toLowerCase()+']').val(value);          $(form + ' select[name='+key.toLowerCase()+']').val(value);          $(form + ' ul[for='+key.toLowerCase()+']').attr('data-val',value);          $(form + ' span[name='+key.toLowerCase()+']').text(value);          $(form + ' span[id='+key.toLowerCase()+']').text(value);          $(form + ' textarea[id='+key.toLowerCase()+']').html(value);          var editor = $(form + ' textarea[id='+key.toLowerCase()+']').attr('data-editor');          if (editor)           {            CKEDITOR.instances[key.toLowerCase()].setData(value);            $(form + ' textarea[id='+key.toLowerCase()+']').val('');          }          //for the ul list          $(form + ' ul[for='+key.toLowerCase()+'] li').each(function(){            var li = $(this);            if(li.attr('data-val') == value){              li.attr('data-selected',true);            }            else{              li.removeAttr('data-selected');            }          });        }    });    $(form + ' .mdl-textfield').each(function(){        $(this).addClass('is-dirty');      });  }  //initialize or reinit  getmdlSelect.init('.getmdl-select');}    //Autocomplete Initialization    $("input[data-autocomplete]").each(function(){      autocomplete($(this).attr('data-autocomplete'));    });